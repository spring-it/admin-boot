spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    #    driver-class-name: com.p6spy.engine.spy.P6SpyDriver
    url: jdbc:mysql://81.69.43.78:3306/admin-boot?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=GMT%2B8
    #    url: jdbc:p6spy:mysql://81.69.43.78:3306/cloud-demo?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=GMT%2B8
    username: root
    password: task,.123
#  # redis相关配置
  redis:
    host: 81.69.43.78
    database: 0
    port: 6379
    password:
    lettuce:
      pool:
        # 连接池最大连接数，负值表示没有限制
        max-active: 100
        # 连接池最大阻塞等待时间 -1 表示没有限制
        max-wait: -1ms
        # 连接池中最大空闲连接
        max-idle: 10
        # 连接池中最小空闲连接
        min-idle: 5
    # 连接超时时间（毫秒）
    timeout: 2000
    # 指定客户端
    client-type: lettuce

# xss相关配置 和 去除空格相关配置
security:
  xss:
    enabled: true
    skip-url:
      - /swagger-resources
      - /v2/api-docs
      - /doc.html
  space:
    enabled: true
    skip-url:
      - /swagger-resources
      - /v2/api-docs
      - /doc.html


# 日志配置文件位置
logging:
  config: classpath:log/logback-spring-dev.xml

#knife4j配置
knife4j:
  #启用
  enable: true
  #基础认证
  basic:
    enable: false
    username: admin
    password: admin
  #增强配置
  setting:
    enableSwaggerModels: true
    enableDocumentManage: true
    enableHost: false
    enableHostText: http://localhost
    enableRequestCache: true
    enableFilterMultipartApis: false
    enableFilterMultipartApiMethodType: POST
    language: zh-CN
    enableFooter: false
    enableFooterCustom: true
    footerCustomContent: Copyright © 2022 Admin All Rights Reserved

# redisson 分布式锁相关
redisson:
  lock:
    # 是否开启分布式锁
    enabled: true
    address: redis://${spring.redis.host}:${spring.redis.port}
    database: ${spring.redis.database}
    pool-size: 60
    idle-size: ${spring.redis.lettuce.pool.max-idle}
    # 一分钟内，会删除连接个数大于 最小空闲数的连接
    idle-timeout: 60000
    # Redis 服务器响应超时 Redis 命令发送成功后开始倒计时
    timeout: 10000
    # 连接redis服务器超时时间
    connection-timeout: ${spring.redis.timeout}
    # 默认单机模式
    mode: single

# 是否开启限流功能注解，默认不开启
rate-limiter:
  redis:
    enabled: true
# 是否开启检查重复提交注解
repeat:
  submit:
    enabled: true
    skip-url:
      - /swagger-resources
      - /v2/api-docs
      - /doc.html

# oss 相关配置
oss:
  enabled: true
  type: minio_oss
  endpoint: https://play.min.io
  access-key: Q3AM3UQ867SPQQA43P2F
  secret-key: zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG
  bucket-name: resource
